<template>
  <require from="../partials/last-result-card"></require>
  <div class="homeLottoPage">
    <last-result-card
      most-repeated.bind="raffleType.mostRepeated">
    </last-result-card>


    <ul class="homeLottoPage__list">
      <li class="homeLottoPage__item" repeat.for="ball of totalBalls">
        <section class="homeLottoPage__stage">
          <figure
            class="homeLottoPage__ball homeLottoPage__ball${ball.isChecked ? '--active' : '--unactive'}"
          >
            <span class="homeLottoPage__shadow"></span>
          </figure>
          <input
            id="id${ball.value}"
            type="checkbox"
            change.delegate="addBallToCombiToSave(ball.value)"
            value.bind="ball.value"
            checked.bind="ball.isChecked"
          />
          <label
            class="homeLottoPage__item--label"
            for="id${ball.value}">
            <span class="homeLottoPage__item--number">
              ${ball.value}
            </span>
          </label>
        </section>
      </li>
    </ul>


    <button click.trigger="getRandomBallsByLotto()">generate random values</button>
    <p>Results saved: ${raffleType.combinations.length || 'upss'} </p>
    <hr>
    <ul class="homeLottoPage__list">
      <li class="homeLottoPage__item" repeat.for="combi of combiToSave">
        <section class="homeLottoPage__stage">
          <figure class="homeLottoPage__ball homeLottoPage__ball--unactive">
            <span class="homeLottoPage__shadow"></span>
          </figure>
        </section>
        <spna class="homeLottoPage__combi">${combi}</spna>
      </li>
    </ul>
    <button
    disabled.bind="!(combiToSave.length === raffleType.countBalls)"
    click.trigger="saveSelectedNumbers()"
    name="button"
    >Save
  </button>
  <button
  disabled.bind="!(combiToSave.length > 0)"
  click.trigger="clearAndUncheck()"
  name="button"
  >Clear
</button>

  </div>
</template>
